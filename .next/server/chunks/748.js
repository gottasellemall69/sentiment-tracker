exports.id=748,exports.ids=[748],exports.modules={671:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},6:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{A:()=>f});var n=a(8732),i=a(2015);a(1106);var s=a(6715),c=a(2398),o=a(6580),l=a(4511),d=a(7900),u=a(6958),m=e([d,u]);[d,u]=m.then?(await m)():m;let h=process.env.NEXT_PUBLIC_FIREBASE_ADMIN_EMAIL,f=()=>{let e=(0,s.useRouter)(),[t,a]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=(0,u.onAuthStateChanged)(d.j,e=>{e&&e.email===h?a(e):a(null)});return()=>e()},[]);let r=async()=>{try{await (0,u.signOut)(d.j),e.push("/login")}catch(e){console.error("Error logging out:",e)}},m=t=>e.pathname===t?"bg-blue-800":"";return(0,n.jsx)("nav",{className:"bg-blue-600 shadow-lg",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("a",{href:"/",rel:"noopener noreferrer",className:"flex items-center text-white",children:[(0,n.jsx)(c.A,{className:"h-8 w-8"}),(0,n.jsx)("span",{className:"ml-2 text-xl font-bold",children:"Sentiment Tracker"})]})}),(0,n.jsxs)("div",{className:"flex space-x-4",children:[(0,n.jsxs)("a",{href:"/",rel:"noopener noreferrer",className:`flex items-center px-3 py-2 rounded-md text-sm font-medium text-white hover:bg-blue-700 transition-colors ${m("/")}`,children:[(0,n.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Submit Opinion"]}),(0,n.jsxs)("span",{children:[(0,n.jsxs)("a",{href:"/Dashboard",rel:"noopener noreferrer",className:`flex items-center px-3 py-2 rounded-md text-sm font-medium text-white hover:bg-blue-700 transition-colors ${m("/Dashboard")}`,children:[(0,n.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),t&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{onClick:r,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md",children:"Logout"})})]})]})]})})})};r()}catch(e){r(e)}})},6312:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>u});var n=a(8732);a(9361);var i=a(4062),s=a(7590),c=a(6110),o=a(4391),l=a(6);a(4467);var d=e([i,s,o,l]);function u({Component:e,pageProps:t}){let a=(0,s.P)(t.initialReduxState);return(0,n.jsx)(i.Provider,{store:a,children:(0,n.jsxs)(c.FacebookProvider,{appId:"your_facebook_app_id",children:[(0,n.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,n.jsx)(l.A,{}),(0,n.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,n.jsx)(e,{...t})})]}),(0,n.jsx)(o.ToastContainer,{position:"bottom-right"})]})})}[i,s,o,l]=d.then?(await d)():d,r()}catch(e){r(e)}})},9361:()=>{},9455:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return a}});var a=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},7900:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{j:()=>l});var n=a(6551),i=a(6958),s=a(6718),c=e([n,i,s]);[n,i,s]=c.then?(await c)():c;let o=(0,n.initializeApp)({apiKey:"AIzaSyDh2ztJiyRUB-wgJeYFrdf5NhE-LHiVy70",authDomain:"sentiment-tracking-c9a95.firebaseapp.com",projectId:"sentiment-tracking-c9a95",storageBucket:"sentiment-tracking-c9a95.firebasestorage.app",messagingSenderId:"38978031824",appId:"1:38978031824:web:bc2b0f006d009954314ed5"}),l=(0,i.getAuth)(o);(0,s.getFirestore)(o),r()}catch(e){r(e)}})},192:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Ay:()=>m,CJ:()=>u,iq:()=>l,oN:()=>c});var n=a(9198),i=a(769),s=e([n,i]);[n,i]=s.then?(await s)():s;let c=(0,n.createAsyncThunk)("feedback/addFeedbackWithSentiment",async(e,{rejectWithValue:t})=>{try{let t=await (0,i.Gu)(e.feedback),a=void 0!==t.confidence?t.confidence:0;return{...e,predictedSpectrum:t.politicalSpectrum,sentiment:{score:t.score,magnitude:t.magnitude,confidence:a},timestamp:Date.now()}}catch(e){return t(e.message||"Failed to analyze sentiment")}}),o=(0,n.createSlice)({name:"feedback",initialState:{entries:[],loading:!1,error:null},reducers:{setFeedback(e,t){e.entries=t.payload},clearFeedback:e=>{e.entries=[]}},extraReducers:e=>{e.addCase(c.pending,e=>{e.loading=!0}).addCase(c.fulfilled,(e,t)=>{e.entries.push(t.payload),e.loading=!1}).addCase(c.rejected,(e,t)=>{e.error=t.payload||"An error occurred",e.loading=!1})}}),{setFeedback:l,clearFeedback:d}=o.actions,u=e=>e.feedback.entries,m=o.reducer;r()}catch(e){r(e)}})},7590:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{let c;a.d(t,{P:()=>d});var n=a(9198),i=a(192),s=e([n,i]);[n,i]=s.then?(await s)():s;let o=e=>(0,n.configureStore)({reducer:{feedback:i.Ay},preloadedState:e}),l=e=>{let t=c??o(e);return e&&c&&(t=o({...c.getState(),...e}),c=void 0),c||(c=t),t},d=e=>l(e);r()}catch(e){r(e)}})},769:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{ES:()=>d,Gu:()=>l});var n=a(6075),i=a(4216),s=a(7021),c=e([i]);i=(c.then?(await c)():c)[0];let u=new s,m=null,h=null,f=!1;async function o(){if(!m&&!h&&!f){f=!0;try{await n.ready(),"cpu"!==n.getBackend()&&await n.setBackend("cpu"),m=await (0,i.pipeline)("text-classification","Xenova/distilbert-base-uncased-finetuned-sst-2-english"),h=await (0,i.pipeline)("sentiment-analysis","Xenova/distilbert-base-uncased-finetuned-sst-2-english"),console.log("NLP models initialized successfully")}catch(e){console.error("Error initializing NLP models:",e),m=null,h=null}finally{f=!1}}}async function l(e){if(!e?.trim())return{score:0,magnitude:0,topWords:[],confidence:0,sentimentLabel:"neutral"};try{m&&h||await o();let t=u.analyze(e),a=t.score/Math.max(t.tokens.length,1),r=t.words.slice(0,5);0===r.length&&(r=e.split(" ").slice(0,3));let n=0,i=0,s="neutral";if(h)try{let t=await h(e,{truncation:!0});n="POSITIVE"===t[0].label?t[0].score:-t[0].score,i=t[0].score,s=t[0].label.toLowerCase()}catch(e){console.warn("Transformer sentiment analysis failed:",e)}let c=.3*a+.7*n,l=Math.max(Math.min(c,1),-1);return .1>Math.abs(l)&&(s="neutral"),{score:l,magnitude:Math.abs(l),topWords:r,confidence:Math.max(i,.1),sentimentLabel:s}}catch(e){return console.error("Sentiment analysis failed:",e),{score:{},magnitude:{},topWords:[],confidence:{},sentimentLabel:"neutral"}}}async function d(e){let t=e.toLowerCase();if(m)try{let t=await m(e,{topk:1,truncation:!0}),a=t[0].label,r=t[0].score;return{spectrum:"POSITIVE"===a?"center-right":"center-left",confidence:r}}catch(e){console.warn("Transformer classification failed:",e)}let a=Object.entries({"far-left":{keywords:["revolution","socialism","communist","abolish","collective","undocumented immigrant","immigration","MAGA","nazi"],weight:1},left:{keywords:["progressive","welfare","regulation","equality","reform","undocumented immigrant","immigration"],weight:.6},"center-left":{keywords:["liberal","public","social","healthcare","education","undocumented immigrant","immigration"],weight:.3},center:{keywords:["moderate","compromise","balance","bipartisan","pragmatic"],weight:0},"center-right":{keywords:["conservative","tradition","market","fiscal","values","illegal alien","invasion","border war"],weight:-.3},right:{keywords:["freedom","liberty","deregulation","privatize","tax cuts","illegal alien","invasion","border war"],weight:-.6},"far-right":{keywords:["nationalist","sovereignty","patriot","traditional","strong","illegal alien","invasion","border war","the Libs","Dems","MAGA","fascist"],weight:-1}}).map(([e,a])=>{let r=a.keywords.reduce((e,r)=>{let n=t.split(r.toLowerCase()).length-1;return e+n*a.weight},0);return{category:e,score:r}});a.sort((e,t)=>t.score-e.score);let r=a[0],n=Math.min(Math.max(.5*Math.abs(r.score),.1),1);return{spectrum:0!==r.score?r.category:"center",confidence:n}}(async()=>{await o()})(),r()}catch(e){r(e)}})}};